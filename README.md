# Продвинутый Крипто-Робот (v5.0 - Оптимизация и Торговля на бумаге)

Этот проект представляет собой торгового робота, предназначенного для реализации продвинутых торговых стратегий. Последовательно были реализованы и протестированы стратегии межбиржевого и треугольного арбитража. Текущая версия сфокусирована на реализации **статистического арбитража (парного трейдинга)**, включая оптимизацию параметров с помощью генетического алгоритма и торговлю на бумаге.

## Описание

Статистический арбитраж — это стратегия, основанная не на поиске мгновенных неэффективностей, а на статистических закономерностях в движении цен активов. Робот находит два актива, цены которых исторически связаны (коинтегрированы), и торгует на временных расхождениях (спредах) между ними, ожидая их возвращения к среднему значению.

## Текущий Статус: Этап 4 - Торговля на бумаге

После успешного бэктестинга и оптимизации параметров, мы перешли к торговле на бумаге с использованием `live_trader.py`. Это позволяет симулировать реальную торговлю без риска для капитала.

## Как использовать

### Шаг 1: Установка и настройка

1.  **Клонирование репозитория:**
    ```bash
    git clone https://github.com/richi8588/CRYPTO_ROBOT.git
    cd CRYPTO_ROBOT
    ```

2.  **Создание и активация виртуального окружения:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **Установка зависимостей:**
    Этот шаг установит все необходимые библиотеки, включая `statsmodels`, `matplotlib` и `deap` для анализа и оптимизации.
    ```bash
    pip install -r requirements.txt
    ```

### Шаг 2: Запуск анализа для поиска пары

1.  **Запустите скрипт анализа:**
    ```bash
    python3 analysis/pair_finder.py
    ```

2.  **Анализ результатов:**
    Скрипт найдет лучшую коинтегрированную пару. Например, для пары `DOT-DOGE` p-value составил `0.0021`.

### Шаг 3: Оптимизация параметров

1.  **Запустите скрипт оптимизации:**
    ```bash
    python3 optimizer.py
    ```
    Скрипт использует генетический алгоритм для поиска наилучших параметров для бэктестинга. Этот процесс может занять много времени.

2.  **Результаты оптимизации:**
    Лучшие найденные параметры будут сохранены в файл `best_params.json`.

### Шаг 4: Запуск бэктестера с оптимизированными параметрами

1.  **Настройте `statarb_backtester.py`:**
    Скрипт автоматически использует параметры из `best_params.json`.

2.  **Запустите скрипт бэктестинга:**
    ```bash
    python3 statarb_backtester.py
    ```

3.  **Анализ результатов бэктестинга:**
    Скрипт выведет подробный отчет о производительности. Например, для пары `DOT-DOGE` с оптимизированными параметрами:
    *   **Total Net PnL:** 169.99 USD
    *   **Win Rate:** 66.67%
    *   **Profit Factor:** 2.46

### Шаг 5: Запуск торговли на бумаге

1.  **Настройте `config/settings.py`:**
    Убедитесь, что `PAIR` соответствует паре, которую вы хотите торговать, и что параметры `Z_SCORE_WINDOW`, `ENTRY_Z_SCORE`, `EXIT_Z_SCORE`, `STOP_LOSS_Z_SCORE` обновлены в соответствии с результатами оптимизации.

2.  **Запустите скрипт торговли на бумаге:**
    ```bash
    python3 live_trader.py
    ```
    Торговые операции будут симулироваться и логироваться в `paper_trades.log`.

## Структура проекта

```
/
├── analysis/               # Скрипты для анализа стратегий
│   ├── pair_finder.py
│   └── statarb_backtester.py
├── config/               # Файлы конфигурации
│   └── settings.py
├── connectors/           # Модули для подключения к биржам
├── strategies/           # Логика торговых стратегий
├── live_trader.py        # Скрипт для торговли на бумаге
├── optimizer.py          # Скрипт для оптимизации параметров
└── README.md             # Этот файл
```

## Дальнейшие шаги

-   **Этап 5: Реализация в реальном времени.** После успешной торговли на бумаге, можно перейти к реальной торговле, реализовав исполнение ордеров через API биржи.
-   **Дальнейшая оптимизация.** Можно экспериментировать с другими парами, временными рамками и параметрами генетического алгоритма.