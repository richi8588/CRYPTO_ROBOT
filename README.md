
# Продвинутый Крипто-Робот (v4.0 - Статистический Арбитраж)

Этот проект представляет собой торгового робота, предназначенного для реализации продвинутых торговых стратегий. Последовательно были реализованы и протестированы стратегии межбиржевого и треугольного арбитража. Текущая версия сфокусирована на реализации **статистического арбитража (парного трейдинга)**.

## Описание

Статистический арбитраж — это стратегия, основанная не на поиске мгновенных неэффективностей, а на статистических закономерностях в движении цен активов. Робот находит два актива, цены которых исторически связаны (коинтегрированы), и торгует на временных расхождениях (спредах) между ними, ожидая их возвращения к среднему значению.

## Текущий Статус: Этап 2 - Бэктестинг стратегии парного трейдинга

После успешного завершения Этапа 1 (поиск коинтегрированных пар) мы перешли к Этапу 2. На этом этапе реализован скрипт `statarb_backtester.py`, который симулирует торговлю по стратегии парного трейдинга на исторических данных для выбранной пары. Это позволяет оценить потенциальную прибыльность и риски стратегии до ее запуска в реальном времени.

## Как использовать

### Шаг 1: Установка и настройка

1.  **Клонирование репозитория:**
    ```bash
    git clone https://github.com/richi8588/CRYPTO_ROBOT.git
    cd CRYPTO_ROBOT
    ```

2.  **Создание и активация виртуального окружения:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **Установка зависимостей:**
    Этот шаг установит все необходимые библиотеки, включая `statsmodels` и `matplotlib` для анализа.
    ```bash
    pip install -r requirements.txt
    ```

### Шаг 2: Запуск анализа для поиска пары (уже выполнено, но можно повторить)

1.  **Настройте `analysis/pair_finder.py` (опционально):**
    Вы можете открыть файл и изменить список `SYMBOLS_TO_TEST`, чтобы добавить или удалить тикеры для анализа.

2.  **Запустите скрипт анализа:**
    ```bash
    python3 analysis/pair_finder.py
    ```

3.  **Анализ результатов:**
    *   Скрипт выведет в консоль p-value для каждой протестированной пары. **Чем ниже p-value (в идеале < 0.05), тем сильнее статистическая связь между активами.**
    *   После завершения он создаст в папке `analysis/` файл с графиками, например `statarb_analysis_ADA-LDO.png`. Эти графики визуализируют спред и Z-оценку для лучшей найденной пары.

### Шаг 3: Запуск бэктестера (Текущий этап)

1.  **Настройте `statarb_backtester.py` (опционально):**
    Откройте файл `statarb_backtester.py` и убедитесь, что `SYMBOL_1` и `SYMBOL_2` соответствуют паре `ADA` и `LDO` (или другой паре, которую вы хотите протестировать). Вы также можете настроить `ENTRY_Z_SCORE`, `EXIT_Z_SCORE` и `STOP_LOSS_Z_SCORE`.

2.  **Запустите скрипт бэктестинга:**
    ```bash
    python3 statarb_backtester.py
    ```

3.  **Анализ результатов бэктестинга:**
    *   Скрипт выведет в консоль подробный отчет о производительности стратегии (общая прибыль, количество сделок, Win Rate и т.д.).
    *   В папке `analysis/` будет создан файл с графиком `backtest_report_ADA-LDO.png`, показывающий динамику Z-оценки и кривую капитала.

## Структура проекта

```
/
├── analysis/               # Скрипты для анализа стратегий
│   ├── pair_finder.py
│   └── statarb_backtester.py # Новый скрипт бэктестинга
├── config/               # Файлы конфигурации
│   └── settings.py
├── connectors/           # Модули для подключения к биржам
├── strategies/           # Логика торговых стратегий
│   └── triangular_arbitrage_strategy.py
├── live_trader.py        # Основной исполняемый файл (временно не используется)
└── README.md             # Этот файл
```

## Дальнейшие шаги

-   **Этап 3: Реализация в реальном времени.** Если бэктестинг покажет положительные результаты, будет разработан новый `live_trader.py` для торговли по этой стратегии.
-   **Оптимизация параметров.** Экспериментируйте с `ENTRY_Z_SCORE`, `EXIT_Z_SCORE`, `STOP_LOSS_Z_SCORE` в `statarb_backtester.py` для улучшения результатов.
